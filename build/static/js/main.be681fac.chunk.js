(this.webpackJsonpspotify_clone=this.webpackJsonpspotify_clone||[]).push([[0],{18:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),r=c(28),n=c.n(r),o=(c(18),c(29)),l=c(2),i=c.p+"static/media/Spotify_Icon.cd66b8f6.png",d=c(1);function j(){var e=["user-read-currently-playing","user-read-playback-state","playlist-read-private"].join("%20");return Object(d.jsx)("div",{className:"grid grid-col-1 grid-row-1 h-full place-items-center \t",children:Object(d.jsx)("button",{onClick:function(){window.location="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("93ff98fdec2345148e7b120be10be630","&redirect_uri=").concat("http://localhost:3000/","search&scope=").concat(e,"&response_type=token&show_dialog=true")},className:" border border-gray-400 w-60 px-2 py-2 rounded m-4 shadow-sm text-2xl text-gray-900 ",children:Object(d.jsxs)("span",{className:"flex w-full px-4 justify-center relative",children:["Login",Object(d.jsx)("img",{alt:"icon",className:"h-6 w-6 absolute right-0",src:i})]})})})}var u=c(32),m=c(8),h=c(13),b=c.n(h),x="https://api.spotify.com/v1/",p={headers:{Accept:"application/json","Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}},f=function(e,t){return b.a.get("".concat(x,"search?q=").concat(e,"&type=").concat("artist","&market=US&limit=").concat(t,"&offset=5"),p)},g=function(e,t){return b.a.get("".concat(x,"artists/").concat(e,"/albums?include_groups=single%2Cappears_on&market=ES&limit=").concat(t,"&offset=5"),p)},O=function(e){return b.a.get("".concat(x,"artists/").concat(e),p)},w=c.p+"static/media/Spotify_placeholder.46b725e9.png",y=c(31);function v(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(10),n=Object(m.a)(r,2),o=n[0],l=n[1],i=Object(a.useState)({}),j=Object(m.a)(i,2),h=j[0],b=j[1],x=Object(a.useState)("text-center"),p=Object(m.a)(x,2),g=p[0],O=p[1];function v(){if(h.length>0)return h.map((function(e){return Object(d.jsx)("div",{className:"border border-gray-200 rounded m-4 shadow-sm w-52",children:Object(d.jsxs)("a",{href:"".concat("http://localhost:3000/","albums/").concat(e.id),children:[Object(d.jsx)("div",{className:" w-full h-40",children:Object(d.jsx)("img",{className:"border border-gray-200 w-full h-40 object-cover",alt:e.images,src:0==e.images.length?w:e.images[0].url})}),Object(d.jsxs)("div",{className:"bg-white w-full h-20",children:[Object(d.jsx)("p",{className:"m-2 text-gray-900",children:e.name}),Object(d.jsxs)("p",{className:"m-2 text-xs text-gray-600",children:[e.followers.total," followers"]})]}),Object(d.jsx)("div",{className:" bg-white w-full h-8",children:(t=e.popularity,Object(d.jsx)("div",{className:"flex m-2",children:Object(u.a)(Array(5)).map((function(e,c){var a=c+1;return Object(d.jsx)(y.a,{color:a>Math.round(t/20)?"grey":"yellow"})}))}))})]})});var t}))}return Object(a.useEffect)((function(){if(window.location.hash){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var c=t.split("="),a=Object(m.a)(c,2),s=a[0],r=a[1];return e[s]=r,e}),{}),t=e.access_token,c=e.expires_in,a=e.token_type;localStorage.clear(),localStorage.setItem("accessToken",t),localStorage.setItem("tokenType",a),localStorage.setItem("expiresIn",c)}}),[]),Object(a.useEffect)((function(){c.length>0&&(f(c,o).then((function(e){b(e.data.artists.items)})),v())}),[c,o]),Object(a.useLayoutEffect)((function(){window.onscroll=function(){o<100&&l(o+10)}}),[h]),Object(d.jsxs)("div",{className:"grid grid-row-7 m-4 container justify-items-center",children:[Object(d.jsxs)("div",{className:"row-span-2 flex relative border border-gray-200 w-72 px-2 py-2 rounded m-4 shadow-sm text-sm text-gray-900",children:[Object(d.jsx)("input",{onChange:function(e){return s(e.target.value)},onKeyDown:function(){O("capitalize")},className:"w-full ".concat(g," placeholder-gray-900 text-sm"),placeholder:"Search for an artist...",type:"text"}),Object(d.jsx)("svg",{"aria-hidden":"true",className:"w-4 h-4 text-gray-400 absolute right-2 bottom-2.5",role:"img",viewBox:"0 0 512 512",children:Object(d.jsx)("path",{d:"M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z",fill:"currentColor"})})]}),Object(d.jsx)("div",{className:"row-span-5 flex flex-wrap",children:h.length>0?v():"No Result Yet"})]})}function N(e){var t=Object(a.useState)(""),c=Object(m.a)(t,2),s=c[0],r=c[1],n=Object(a.useState)({}),o=Object(m.a)(n,2),l=o[0],i=o[1],j=Object(a.useState)(10),u=Object(m.a)(j,2),h=u[0],b=u[1];return Object(a.useEffect)((function(){O(e.match.params.id).then((function(e){r(e.data.name)})),g(e.match.params.id,h).then((function(e){i(e.data.items)})).catch((function(e){return console.log(e)}))}),[e.match.params.id,h]),Object(a.useLayoutEffect)((function(){window.onscroll=function(){h<100&&b(h+10)}}),[l]),Object(d.jsxs)("div",{className:"grid grid-row-7 container ",children:[Object(d.jsxs)("div",{className:"m-2 w-72 px-2 py-2 text-gray-900",children:[Object(d.jsx)("h1",{className:"w-full text-2xl",children:s}),Object(d.jsx)("p",{className:"w-full text-sm text-gray-500",children:"Albums"})]}),Object(d.jsx)("div",{className:"row-span-5 flex flex-wrap",children:l.length>0?l.map((function(e){return Object(d.jsxs)("div",{className:"border border-gray-200 rounded m-4 shadow-sm w-52",children:[Object(d.jsx)("div",{className:" w-full h-40",children:Object(d.jsx)("img",{className:"border border-gray-200 w-full h-40 object-cover",alt:"image",src:0==e.images.length?w:e.images[0].url})}),Object(d.jsxs)("div",{className:"bg-white w-full h-40",children:[Object(d.jsx)("p",{className:"mx-2 text-gray-900",children:e.name}),Object(d.jsx)("ul",{className:"mx-2 text-xs text-gray-500",children:e.artists.map((function(e){return Object(d.jsx)("li",{children:e.name},e.id)}))}),Object(d.jsxs)("p",{className:"m-2 text-xs text-gray-600",children:[" ",e.release_date]}),Object(d.jsxs)("p",{className:"m-2 text-xs text-gray-600",children:[" ",e.total_tracks," tracks"]})]}),Object(d.jsx)("div",{className:" w-full h-8 bg-gray-200 text-gray-500 text-xs text-center py-2",children:Object(d.jsx)("a",{href:e.external_urls.spotify,children:"Preview on Spotify"})})]},e.id)})):"no result"})]})}function S(){return Object(d.jsx)("div",{className:"container mx-auto h-screen px-4 m-4",children:Object(d.jsxs)(o.a,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",component:j}),Object(d.jsx)(l.a,{exact:!0,path:"/albums/:id",component:N}),Object(d.jsx)(l.a,{exact:!0,path:"/search",component:v})]})})}n.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.be681fac.chunk.js.map