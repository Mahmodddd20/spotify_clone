{"version":3,"sources":["assets/Spotify_Icon.png","pages/Login.js","api.js","assets/Spotify_placeholder.png","pages/Search.js","pages/Albums.js","App.js","index.js"],"names":["Login","SCOPES_WITH_SPACES","join","className","onClick","window","location","alt","src","icon","SEARCH_BASE_URL","options","headers","localStorage","getItem","q","limit","axios","get","id","Search","useState","search","setSearch","setLimit","result","setResult","style","setStyle","AllArtists","length","map","value","href","images","placeholder","url","name","followers","total","rating","popularity","Array","star","i","ratingValue","color","Math","round","useEffect","hash","substring","split","reduce","accumulator","currentValue","key","access_token","expires_in","token_type","clear","setItem","api","then","response","data","artists","items","useLayoutEffect","onscroll","onChange","e","target","onKeyDown","type","aria-hidden","role","viewBox","d","fill","Albums","props","setName","match","params","catch","error","console","log","artist","release_date","total_tracks","external_urls","spotify","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be681fac.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Spotify_Icon.cd66b8f6.png\";","import React from 'react';\nimport icon from \"../assets/Spotify_Icon.png\"\n\nexport default function Login() {\n    const CLIENT_ID = \"93ff98fdec2345148e7b120be10be630\"\n    const SPOTIFY_URL = \"https://accounts.spotify.com/authorize\"\n    const PROJECT_URL = \"http://localhost:3000/\"\n    const SPACE_BETWEEN_SCOPES = \"%20\";\n    const SCOPES = [\n        \"user-read-currently-playing\",\n        \"user-read-playback-state\",\n        \"playlist-read-private\"\n    ];\n\n    const SCOPES_WITH_SPACES = SCOPES.join(SPACE_BETWEEN_SCOPES);\n\n    function handleLogin() {\n        window.location = `${SPOTIFY_URL}?client_id=${CLIENT_ID}&redirect_uri=${PROJECT_URL}search&scope=${SCOPES_WITH_SPACES}&response_type=token&show_dialog=true`;\n    };\n\n    return (\n        <div className=\"grid grid-col-1 grid-row-1 h-full place-items-center \t\">\n            <button onClick={handleLogin}\n                    className=\" border border-gray-400 w-60 px-2 py-2 rounded m-4 shadow-sm text-2xl text-gray-900 \">\n                <span className=\"flex w-full px-4 justify-center relative\">\n                    Login\n                    <img alt=\"icon\" className=\"h-6 w-6 absolute right-0\" src={icon}/>\n                </span>\n            </button>\n        </div>\n    );\n}\n\n","import axios from 'axios';\n\nconst SEARCH_BASE_URL = \"https://api.spotify.com/v1/\";\nconst SEARCH_TYPE = \"artist\";\nconst TOKEN = localStorage.getItem('accessToken');\n\nconst options = {\n    headers: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json',\n        'Authorization': 'Bearer ' + TOKEN\n    },\n}\n\nexport default {\n    getResult: (q,limit) =>\n        axios.get(`${SEARCH_BASE_URL}search?q=${q}&type=${SEARCH_TYPE}&market=US&limit=${limit}&offset=5`, options),\n\n    getArtists: (id,limit) =>\n        axios.get(`${SEARCH_BASE_URL}artists/${id}/albums?include_groups=single%2Cappears_on&market=ES&limit=${limit}&offset=5`, options),\n\n    getArtistName: (id) =>\n        axios.get(`${SEARCH_BASE_URL}artists/${id}`, options),\n\n}","export default __webpack_public_path__ + \"static/media/Spotify_placeholder.46b725e9.png\";","import React, {useEffect, useLayoutEffect, useState} from \"react\";\nimport api from \"../api\";\nimport placeholder from \"../assets/Spotify_placeholder.png\"\nimport {AiFillStar} from 'react-icons/ai';\n\nfunction getToken(hash) {\n    const stringAfterHashtag = hash.substring(1);\n    const paramsInUrl = stringAfterHashtag.split(\"&\");\n\n    return paramsInUrl.reduce((accumulator, currentValue) => {\n        const [key, value] = currentValue.split(\"=\");\n        accumulator[key] = value;\n        return accumulator;\n    }, {});\n}\n\nexport default function Search() {\n    const PROJECT_URL = \"http://localhost:3000/\";\n\n    const [search, setSearch] = useState('');\n    const [limit, setLimit] = useState(10);\n    const [result, setResult] = useState({});\n    const [style, setStyle] = useState(\"text-center\");\n\n    useEffect(() => {\n        if (window.location.hash) {\n            const {access_token, expires_in, token_type} =\n                getToken(window.location.hash);\n\n            localStorage.clear();\n            localStorage.setItem(\"accessToken\", access_token);\n            localStorage.setItem(\"tokenType\", token_type);\n            localStorage.setItem(\"expiresIn\", expires_in);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (search.length > 0) {\n            api.getResult(search, limit).then(response => {\n                setResult(response.data.artists.items)\n            });\n\n            AllArtists();\n        }\n    }, [search, limit]);\n\n    useLayoutEffect(() => {\n        window.onscroll = () => {\n            if (limit < 100) {\n                setLimit(limit + 10)\n            }\n        }\n    }, [result]);\n\n    function stars(rating) {\n        return (\n            <div className=\"flex m-2\">\n                {[...Array(5)].map((star, i) => {\n                    const ratingValue = i + 1;\n                    return (\n                        <AiFillStar\n                            color={ratingValue > Math.round(rating / 20)\n                                ? 'grey' : 'yellow'}/>);\n                })}\n            </div>\n        )\n    }\n\n    function AllArtists() {\n        if (result.length > 0) {\n            return (result.map(value => {\n                return (\n                    <div className=\"border border-gray-200 rounded m-4 shadow-sm w-52\">\n                        <a href={`${PROJECT_URL}albums/${value.id}`}>\n                            <div className=\" w-full h-40\">\n                                <img className=\"border border-gray-200 w-full h-40 object-cover\"\n                                     alt={value.images}\n                                     src={value.images.length == 0 ? placeholder : value.images[0].url}/>\n                            </div>\n                            <div className=\"bg-white w-full h-20\">\n                                <p className=\"m-2 text-gray-900\">{value.name}</p>\n                                <p className=\"m-2 text-xs text-gray-600\">{value.followers.total} followers</p>\n                            </div>\n                            <div className=\" bg-white w-full h-8\">\n                                {stars(value.popularity)}\n                            </div>\n                        </a>\n                    </div>\n                )\n            }))\n        }\n    }\n\n    return (\n        <div className=\"grid grid-row-7 m-4 container justify-items-center\">\n            <div className=\"row-span-2 flex relative border border-gray-200\n            w-72 px-2 py-2 rounded m-4 shadow-sm text-sm text-gray-900\">\n                <input onChange={e => setSearch(e.target.value)} onKeyDown={() => {\n                    setStyle(\"capitalize\")\n                }}\n                       className={`w-full ${style} placeholder-gray-900 text-sm`}\n                       placeholder=\"Search for an artist...\"\n                       type=\"text\"/>\n                <svg aria-hidden=\"true\"\n                     className=\"w-4 h-4 text-gray-400 absolute right-2 bottom-2.5\"\n                     role=\"img\"\n                     viewBox=\"0 0 512 512\">\n                    <path\n                        d=\"M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z\"\n                        fill=\"currentColor\">\n                    </path>\n                </svg>\n            </div>\n            <div className=\"row-span-5 flex flex-wrap\">\n                {result.length > 0 ? AllArtists() : \"No Result Yet\"}\n            </div>\n        </div>\n    );\n}\n\n","import React, {useEffect, useLayoutEffect, useState} from \"react\";\nimport api from \"../api\";\nimport placeholder from \"../assets/Spotify_placeholder.png\";\n\nexport default function Albums(props) {\n    const [name, setName] = useState('');\n    const [result, setResult] = useState({});\n    const [limit, setLimit] = useState(10);\n\n    useEffect(() => {\n        api.getArtistName(props.match.params.id).then(response => {\n            setName(response.data.name)})\n\n        api.getArtists(props.match.params.id, limit).then(response => {\n            setResult(response.data.items)\n        }).catch(error => console.log(error))\n\n    }, [props.match.params.id, limit]);\n\n    useLayoutEffect(() => {\n        window.onscroll = () => {\n            if(limit<100){\n                setLimit(limit + 10)\n            }\n        }\n    }, [result]);\n\n    function renderAlbums() {\n        return result.map(value => {\n            return (\n                <div key={value.id} className=\"border border-gray-200 rounded m-4 shadow-sm w-52\">\n                    <div className=\" w-full h-40\">\n                        <img className=\"border border-gray-200 w-full h-40 object-cover\"\n                             alt=\"image\"\n                             src={value.images.length == 0 ? placeholder : value.images[0].url}/>\n                    </div>\n                    <div className=\"bg-white w-full h-40\">\n                        <p className=\"mx-2 text-gray-900\">{value.name}</p>\n                        <ul className=\"mx-2 text-xs text-gray-500\">\n                            {value.artists.map(artist => {\n                                return <li key={artist.id}>{artist.name}</li>\n                            })}\n                        </ul>\n                        <p className=\"m-2 text-xs text-gray-600\"> {value.release_date}</p>\n                        <p className=\"m-2 text-xs text-gray-600\"> {value.total_tracks} tracks</p>\n                    </div>\n                    <div className=\" w-full h-8 bg-gray-200 text-gray-500 text-xs text-center py-2\">\n                        <a href={value.external_urls.spotify}>Preview on Spotify</a>\n                    </div>\n                </div>\n            )\n        })\n    }\n\n    return (\n        <div className=\"grid grid-row-7 container \">\n            <div\n                className=\"m-2 w-72 px-2 py-2 text-gray-900\">\n                <h1 className=\"w-full text-2xl\">{name}</h1>\n                <p className=\"w-full text-sm text-gray-500\">Albums</p>\n            </div>\n            <div className=\"row-span-5 flex flex-wrap\">\n                {result.length > 0 ? renderAlbums() : \"no result\"}\n            </div>\n        </div>\n    );\n}\n\n","import React from \"react\";\nimport {BrowserRouter as Router, Route} from \"react-router-dom\";\nimport './index.css';\nimport Login from \"./pages/Login\";\nimport Search from \"./pages/Search\";\nimport Albums from \"./pages/Albums\";\n\nexport default function App() {\n    return (\n        <div className=\"container mx-auto h-screen px-4 m-4\">\n            <Router>\n                <Route exact path=\"/\" component={Login}/>\n                <Route exact path=\"/albums/:id\" component={Albums}/>\n                <Route exact path=\"/search\" component={Search}/>\n            </Router>\n        </div>\n    );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}